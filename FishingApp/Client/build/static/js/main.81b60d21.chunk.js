(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,a){e.exports=a(88)},51:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(26),r=a.n(s),o=(a(51),a(5)),l=a(4),c=a(7),u=a(6),h=a(8),m=a(2),p=a(17),d=a.n(p),f=a(10);a(74);var g=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleRegistrationClick=function(){fetch("https://fishing-app-backend-server.herokuapp.com/registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.email,username:e.state.username,password:e.state.password})}).then(function(e){return e.json()}).then(function(t){console.log(t),t.success&&e.setState({message:t.message})})},e.handleTextBoxChange=function(t){e.setState(Object(m.a)({},t.target.name,t.target.value))},e.state={username:"",email:"",password:"",message:""},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"registrationbox"},i.a.createElement("h2",null,"Register"),i.a.createElement("p",null,"Please use a valid email account to register"),i.a.createElement("div",{className:"registrationinputsbox"},i.a.createElement("input",{className:"registrationinputfield",name:"email",onChange:this.handleTextBoxChange,placeholder:"Email Address"}),i.a.createElement("input",{className:"registrationinputfield",name:"username",onChange:this.handleTextBoxChange,placeholder:"User Name"}),i.a.createElement("input",{className:"registrationinputfield",name:"password",onChange:this.handleTextBoxChange,placeholder:"Password"}),i.a.createElement("button",{className:"registrationbutton",onClick:this.handleRegistrationClick},"Register"),i.a.createElement("label",{className:"registrationSuccess"},this.state.message)),i.a.createElement("label",{className:"registrationSuccess"},this.state.message))}}]),t}(n.Component),b=Object(f.b)(null,function(e){return{onAuthenticated:function(t){return e({type:"ON_AUTHENTICATED",token:t})}}})(g),E=(a(75),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleLoginClick=function(){d.a.post("https://fishing-app-backend-server.herokuapp.com/login",{username:e.state.username,password:e.state.password}).then(function(t){var a=t.data.token,n=t.data.id;localStorage.setItem("jsonwebtoken",a),localStorage.setItem("userId",n),e.props.onAuthenticated(a,n),function(e){e?d.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete d.a.defaults.headers.common.Authorization}(a)}).catch(function(e){return console.log(e)})},e.handleTextBoxChange=function(t){e.setState(Object(m.a)({},t.target.name,t.target.value))},e.state={username:"",password:"",message:""},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"loginbox"},i.a.createElement("h1",null," Welcome to Fishing Journal "),i.a.createElement("h2",null,"Login"),i.a.createElement("p",null,"If this is your first time using Fishing App please register before attempting to login"),i.a.createElement("div",{className:"logininputsbox"},i.a.createElement("input",{className:"logininputfield",name:"username",onChange:this.handleTextBoxChange,placeholder:"User Name"}),i.a.createElement("input",{className:"logininputfield",name:"password",onChange:this.handleTextBoxChange,placeholder:"Password"}),i.a.createElement("button",{className:"loginbutton",onClick:this.handleLoginClick},"Login"),i.a.createElement("label",null,this.state.message)))}}]),t}(n.Component)),v=Object(f.b)(null,function(e){return{onAuthenticated:function(t,a){return e({type:"ON_AUTHENTICATED",token:t,id:a})}}})(E),O=(a(76),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"loginBox"},i.a.createElement(v,null),i.a.createElement(b,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=a(28),j=a(25),w={isAuthenticated:!1,fishes:[],uid:0,currentWeather:[]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_AUTHENTICATED":return Object(j.a)({},e,{isAuthenticated:null!=t.token,uid:t.id});case"ADDEDFISH":return Object(j.a)({},e,{fishes:e.fishes.concat(t.value)});case"LOGOUT":return Object(j.a)({},e,{isAuthenticated:!1});case"CURRENTWEATHER":return Object(j.a)({},e,{currentWeather:e.currentWeather.concat(t.value)})}return e},y=a(18),k=a(19),T=(a(77),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleAddCatchClick=function(){fetch("https://fishing-app-backend-server.herokuapp.com/api/addnewfish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({latitude:e.state.latitude,longitude:e.state.longitude,fishname:e.state.fishname,fishsize:e.state.fishsize,lurebait:e.state.lurebait,linestrength:e.state.linestrength,rod:e.state.rod,reel:e.state.reel,weather:e.state.weather,userId:e.props.id})}).then(function(e){return e.json()}).then(function(t){t.success&&e.setState({message:t.message})}).then(function(){return e.props.addedFish(e.state)})},e.handleTextBoxChange=function(t){e.setState(Object(m.a)({},t.target.name,t.target.value))},e.state={latitude:0,longitude:0,fishname:"",fishsize:"",lurebait:"",linestrength:"",rod:"",reel:"",weather:"",message:""},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(t){e.setState({latitude:t.coords.latitude,longitude:t.coords.longitude})})}},{key:"render",value:function(){return i.a.createElement("div",{className:"newFishBox"},i.a.createElement("h1",{className:"congratsText"},"Congratulations! You caught a fish!"),i.a.createElement("p",null,"Fill out as much or as alittle of the following form to save your catch in our database. The app will automatically save your GPS coordinates and time of day when you submit the form"),i.a.createElement("div",{className:"newFishInput"},i.a.createElement("input",{className:"fishInput",name:"fishname",onChange:this.handleTextBoxChange,placeholder:"Name or Species of Fish"}),i.a.createElement("input",{className:"fishInput",name:"lurebait",onChange:this.handleTextBoxChange,placeholder:"Type of Lure or Bait"}),i.a.createElement("input",{className:"fishInput",name:"linestrength",onChange:this.handleTextBoxChange,placeholder:"Line Strength"}),i.a.createElement("input",{className:"fishInput",name:"rod",onChange:this.handleTextBoxChange,placeholder:"Type of Rod"}),i.a.createElement("input",{className:"fishInput",name:"reel",onChange:this.handleTextBoxChange,placeholder:"Type of Reel"}),i.a.createElement("input",{className:"fishInput",name:"fishsize",onChange:this.handleTextBoxChange,placeholder:"Size of your fish"}),i.a.createElement("input",{className:"fishInput",name:"weather",onChange:this.handleTextBoxChange,placeholder:"Current Weather Conditions"}),i.a.createElement("button",{className:"fishButton",onClick:this.handleAddCatchClick},"Save Catch!"),i.a.createElement("label",{className:"saveCatchMessage"},this.state.message)))}}]),t}(n.Component)),x=Object(f.b)(function(e){return{id:e.uid}},function(e){return{addedFish:function(t){return e({type:"ADDEDFISH",value:t})}}})(T),A=(a(78),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).handleLogoutClick=function(){console.log(a.props.isAuthenticated),localStorage.removeItem("jsonwebtoken"),a.props.logout(),a.props.history.push("/"),console.log("Log out successful")},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"navMenu"},i.a.createElement("ul",{className:"navUL"},this.props.isAuthenticated?i.a.createElement("li",{className:"navLink"},i.a.createElement("button",{className:"menuButton"},i.a.createElement(y.b,{to:"/addnewfish"},"Add Fish"))):null,this.props.isAuthenticated?i.a.createElement("li",{className:"navLink"},i.a.createElement("button",{className:"menuButton"},i.a.createElement(y.b,{to:"/previousfishlist"},"Previously Caught Fish"))):null,this.props.isAuthenticated?i.a.createElement("li",{className:"navLink"},i.a.createElement("button",{className:"menuButton"},i.a.createElement(y.b,{to:"/weather"},"Weather Forecast"))):null,this.props.isAuthenticated?i.a.createElement("li",{className:"navLink"},i.a.createElement("button",{className:"menuButton"},i.a.createElement(y.b,{to:"/heatmap"},"Map"))):null,this.props.isAuthenticated?i.a.createElement("li",{className:"navLink"},i.a.createElement("button",{className:"menuButton",onClick:this.handleLogoutClick},i.a.createElement(y.b,{to:"#"},"Logout"))):null))}}]),t}(n.Component)),S=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"baselayoutbox"},i.a.createElement(A,{isAuthenticated:this.props.isAuthenticated,logout:this.props.onLogout,history:this.props.history}),this.props.children)}}]),t}(n.Component),B=Object(f.b)(function(e){return{isAuthenticated:e.isAuthenticated}},function(e){return{onLogout:function(){return e({type:"LOGOUT"})}}})(Object(k.e)(S)),I=(a(84),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleWeatherClick=function(){d.a.get("https://cors-anywhere.herokuapp.com/".concat("https://api.openweathermap.org/data/2.5/forecast?zip=",e.state.zipcode,",us&units=imperial&appid=3226cf76708d38911413730b921d802c"),{crossdomain:!0}).then(function(t){console.log(t),e.setState({weather:t.data.list})})},e.handleTextBoxChange=function(t){e.setState(Object(m.a)({},t.target.name,t.target.value))},e.state={zipcode:0,weather:[]},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.weather.map(function(e,t){if(0===t||8===t||16===t)return i.a.createElement("div",{className:"weatherList"},i.a.createElement("ul",null,i.a.createElement("li",{className:"weatherListItems"},i.a.createElement("p",null,"Date/Time: ",e.dt_txt),i.a.createElement("p",null,"Current Temperature: ",e.main.temp,"\xb0"),i.a.createElement("p",null,"Temperature High: ",e.main.temp_max,"\xb0"),i.a.createElement("p",null,"Temperature Low: ",e.main.temp_min,"\xb0"),i.a.createElement("p",null,"Humidity: ",e.main.humidity),i.a.createElement("p",null,"Atmospheric Pressure: ",e.main.pressure," mbar"),i.a.createElement("p",null,"Weather Conditions: ",e.weather[0].main),i.a.createElement("p",null,"Weather Details: ",e.weather[0].description),i.a.createElement("p",null,"Wind Speed: ",e.wind.speed," mph"))))});return i.a.createElement("div",{className:"weatherSearch"},i.a.createElement("h1",null,"Weather Forecast"),i.a.createElement("input",{name:"zipcode",onChange:this.handleTextBoxChange,placeholder:"Enter Zipcode"}),i.a.createElement("button",{onClick:this.handleWeatherClick},"Submit"),e)}}]),t}(n.Component)),L=Object(f.b)(null,function(e){return{dispatchWeather:function(t){e({type:"CURRENTWEATHER",value:t})}}})(I),W=(a(85),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={fish:[]},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://fishing-app-backend-server.herokuapp.com/previousfishlist/".concat(this.props.userId)).then(function(e){return e.json()}).then(function(t){e.setState({fish:t})})}},{key:"render",value:function(){var e=this;console.log(this.state.fish);var t=this.state.fish.map(function(t){return i.a.createElement("li",{className:"fishLI",key:t.id},i.a.createElement("h2",null,t.fishname),i.a.createElement("p",null,"Weight: ",t.fishsize),i.a.createElement("p",null,"Type of Lure or Bait: ",t.lurebait),i.a.createElement("p",null,"Line Strength: ",t.linestrength),i.a.createElement("p",null,"Type of rod: ",t.rod),i.a.createElement("p",null,"Type of reel: ",t.reel),i.a.createElement("p",null,"Weather Conditions: ",t.weather),i.a.createElement("p",null,"Time and Date: ",t.createdAt),i.a.createElement("a",{className:"locationButton",href:"https://www.latlong.net/c/?lat=".concat(t.latitude,"&long=").concat(t.longitude),target:"_blank"},i.a.createElement("img",{src:"./worldwide.png"})),i.a.createElement("button",{className:"deleteButton",onClick:function(){return e.deleteFish(t)}},i.a.createElement("img",{src:"./clear.png"})))});return i.a.createElement("div",{className:"previousFishBox"},i.a.createElement("h1",null,"Previous Catches"),i.a.createElement("ul",{className:"fishUL"},t))}},{key:"deleteFish",value:function(e){var t={entryKey:e.id};console.log(t),fetch("https://fishing-app-backend-server.herokuapp.com/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){if(e.status>=400)throw new Error("Error");return e.json()}).then(function(e){"success"===e&&console.log("success")})}}]),t}(n.Component)),D=Object(f.b)(function(e){return{userId:e.uid}})(W),F=a(29),_=(a(87),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={viewport:{width:400,height:400,latitude:35,longitude:-100,zoom:3},fish:[]},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.post("https://fishing-app-backend-server.herokuapp.com/allfish",{userId:this.props.userId}).then(function(e){return e.data}).then(function(t){console.log(t),e.setState({fish:t})})}},{key:"render",value:function(){var e=this,t=this.state.fish.map(function(e){return i.a.createElement(F.a,{latitude:e.latitude,longitude:e.longitude,offsetLeft:-20,offsetTop:-10},i.a.createElement("img",{src:"fish.png"}))});return i.a.createElement("div",{className:"mapBox"},i.a.createElement(F.b,Object.assign({mapboxApiAccessToken:"pk.eyJ1IjoiZ3ByaXpuYXIiLCJhIjoiY2p2cGpxYWM5MmE4NDQ4cWxiY3N0bTFlOSJ9.zjGnBTabn9sRQIZ6C2FjRw"},this.state.viewport,{onViewportChange:function(t){return e.setState({viewport:t})}}),t))}}]),t}(n.Component)),R=Object(f.b)(function(e){return{userId:e.uid}})(_),z=Object(C.b)(N,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(i.a.createElement(f.a,{store:z},i.a.createElement(y.a,null,i.a.createElement(B,null,i.a.createElement(k.c,null,i.a.createElement(k.a,{exact:!0,path:"/",component:O}),i.a.createElement(k.a,{path:"/addnewfish",component:x}),i.a.createElement(k.a,{path:"/previousfishlist",component:D}),i.a.createElement(k.a,{path:"/weather",component:L}),i.a.createElement(k.a,{path:"/heatmap",component:R}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,1,2]]]);
//# sourceMappingURL=main.81b60d21.chunk.js.map